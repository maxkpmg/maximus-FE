<div class="container">
	@if (!isLoading && !isError && !isNoUserSelected) {
	<table class="table table-sm">
		<thead>
			<tr>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" (click)="openDailyReportWindow(week.sunday, 'Sunday')">
						<div class="weekDay">Sunday {{week.sunday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" (click)="openDailyReportWindow(week.monday, 'Monday')">
						<div class="weekDay">Monday {{week.monday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" (click)="openDailyReportWindow(week.tuesday, 'Tuesday')">
						<div class="weekDay">Tuesday {{week.tuesday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" (click)="openDailyReportWindow(week.wednesday, 'Wednesday')">
						<div class="weekDay">Wednesday {{week.wednesday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" (click)="openDailyReportWindow(week.thursday, 'Thursday')">
						<div class="weekDay">Thursday {{week.thursday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" disabled="true">
						<div class="weekDay">Friday {{week.friday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
				<th scope="col" style="width:14.28%">
					<button class="thBackground" disabled="true">
						<div class="weekDay">Saturday {{week.saturday.slice(0,5)}}</div>
						<div class="approveBlock"></div>
					</button>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					@for (report of timeReports[week.sunday]; track report; let i = $index) {
					<div class="reportBlock" [ngStyle]="calcHeight(report.hours, report.minutes)" (click)="openDailyReportWindow(week.sunday, 'Sunday')">
						<button class="reportBlockContent">
							<span [ngStyle]="this.colorsArray[week.sunday][i]">{{ projectNamesArray[week.sunday][i] }}</span>
							<div><span [ngStyle]="this.colorsArray[week.sunday][i]">{{report.hours + 'h'}} {{report.minutes + 'm'}}</span></div>
						</button>
					</div>
					}
				</td>
				<td>
					@for (report of timeReports[week.monday]; track report; let i = $index) {
					<div class="reportBlock" [ngStyle]="calcHeight(report.hours, report.minutes)" (click)="openDailyReportWindow(week.monday, 'Monday')">
						<button class="reportBlockContent">
							<span [ngStyle]="this.colorsArray[week.monday][i]">{{ projectNamesArray[week.monday][i] }}</span>
							<div><span [ngStyle]="this.colorsArray[week.monday][i]">{{report.hours + 'h'}} {{report.minutes + 'm'}}</span></div>
						</button>
					</div>
					}
				</td>
				<td>
					@for (report of timeReports[week.tuesday]; track report; let i = $index) {
					<div class="reportBlock" [ngStyle]="calcHeight(report.hours, report.minutes)" (click)="openDailyReportWindow(week.tuesday, 'Tuesday')">
						<button class="reportBlockContent">
							<span [ngStyle]="this.colorsArray[week.tuesday][i]">{{ projectNamesArray[week.tuesday][i] }}</span>
							<div><span [ngStyle]="this.colorsArray[week.tuesday][i]">{{report.hours + 'h'}} {{report.minutes + 'm'}}</span></div>
						</button>
					</div>
					}
				</td>
				<td>
					@for (report of timeReports[week.wednesday]; track report; let i = $index) {
					<div class="reportBlock" [ngStyle]="calcHeight(report.hours, report.minutes)" (click)="openDailyReportWindow(week.wednesday, 'Wednesday')">
						<button class="reportBlockContent">
							<span [ngStyle]="this.colorsArray[week.wednesday][i]">{{ projectNamesArray[week.wednesday][i] }}</span>
							<div><span [ngStyle]="this.colorsArray[week.wednesday][i]">{{report.hours + 'h'}} {{report.minutes + 'm'}}</span></div>
						</button>
					</div>
					}
				</td>
				<td>
					@for (report of timeReports[week.thursday]; track report; let i = $index) {
					<div class="reportBlock" [ngStyle]="calcHeight(report.hours, report.minutes)" (click)="openDailyReportWindow(week.thursday, 'Thursday')">
						<button class="reportBlockContent">
							<span [ngStyle]="this.colorsArray[week.thursday][i]">{{ projectNamesArray[week.thursday][i] }}</span>
							<div><span [ngStyle]="this.colorsArray[week.thursday][i]">{{report.hours + 'h'}} {{report.minutes + 'm'}}</span></div>
						</button>
					</div>
					}
				</td>
			</tr>
			<div class="nineHoursLine">
				<div class="line"></div>
				<div class="text">9 Hours</div>
			</div>
		</tbody>
	</table>
	}
	@if (isNoUserSelected) {
		<div class="no-reports">
			No user selected :)
			<div><img class="no-reports-img" src="../../../../../assets/note.png" /></div>
		</div>
		}
		@if (!isNoUserSelected && isLoading) {
		<div class="no-reports">
			@if (isError){
			Error retrieving data
			<div><img class="no-reports-img" src="../../../assets/error.png" /></div>
			}
			@if (!isError){<LoadingSpinnerComponent />}
		</div>
		}
</div>